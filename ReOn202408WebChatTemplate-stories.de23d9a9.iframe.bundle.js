"use strict";(self.webpackChunkaid_on_ui_system=self.webpackChunkaid_on_ui_system||[]).push([[155],{"./node_modules/@chakra-ui/image/dist/chunk-QINAG4RG.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>chunk_QINAG4RG_Image});var chunk_ZJJGQIVY=__webpack_require__("./node_modules/@chakra-ui/system/dist/chunk-ZJJGQIVY.mjs"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),NativeImage=(0,chunk_ZJJGQIVY.R)((function NativeImage2(props,ref){const{htmlWidth,htmlHeight,alt,...rest}=props;return(0,jsx_runtime.jsx)("img",{width:htmlWidth,height:htmlHeight,ref,alt,...rest})}));NativeImage.displayName="NativeImage";var dist=__webpack_require__("./node_modules/@chakra-ui/react-use-safe-layout-effect/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js");var chunk_ZHQNHOQS=__webpack_require__("./node_modules/@chakra-ui/system/dist/chunk-ZHQNHOQS.mjs");function omit(object,keysToOmit=[]){const clone=Object.assign({},object);for(const key of keysToOmit)key in clone&&delete clone[key];return clone}var chunk_QINAG4RG_Image=(0,chunk_ZJJGQIVY.R)((function Image2(props,ref){const{fallbackSrc,fallback,src,srcSet,align,fit,loading,ignoreFallback,crossOrigin,fallbackStrategy="beforeLoadOrError",referrerPolicy,...rest}=props,shouldIgnoreFallbackImage=null!=loading||ignoreFallback||!(void 0!==fallbackSrc||void 0!==fallback),status=function useImage(props){const{loading,src,srcSet,onLoad,onError,crossOrigin,sizes,ignoreFallback}=props,[status,setStatus]=(0,react.useState)("pending");(0,react.useEffect)((()=>{setStatus(src?"loading":"pending")}),[src]);const imageRef=(0,react.useRef)(),load=(0,react.useCallback)((()=>{if(!src)return;flush();const img=new Image;img.src=src,crossOrigin&&(img.crossOrigin=crossOrigin),srcSet&&(img.srcset=srcSet),sizes&&(img.sizes=sizes),loading&&(img.loading=loading),img.onload=event=>{flush(),setStatus("loaded"),null==onLoad||onLoad(event)},img.onerror=error=>{flush(),setStatus("failed"),null==onError||onError(error)},imageRef.current=img}),[src,crossOrigin,srcSet,sizes,onLoad,onError,loading]),flush=()=>{imageRef.current&&(imageRef.current.onload=null,imageRef.current.onerror=null,imageRef.current=null)};return(0,dist.U)((()=>{if(!ignoreFallback)return"loading"===status&&load(),()=>{flush()}}),[status,load,ignoreFallback]),ignoreFallback?"loaded":status}({...props,crossOrigin,ignoreFallback:shouldIgnoreFallbackImage}),showFallbackImage=((status,fallbackStrategy)=>"loaded"!==status&&"beforeLoadOrError"===fallbackStrategy||"failed"===status&&"onError"===fallbackStrategy)(status,fallbackStrategy),shared={ref,objectFit:fit,objectPosition:align,...shouldIgnoreFallbackImage?rest:omit(rest,["onError","onLoad"])};return showFallbackImage?fallback||(0,jsx_runtime.jsx)(chunk_ZHQNHOQS.B.img,{as:NativeImage,className:"chakra-image__placeholder",src:fallbackSrc,...shared}):(0,jsx_runtime.jsx)(chunk_ZHQNHOQS.B.img,{as:NativeImage,src,srcSet,crossOrigin,loading,referrerPolicy,className:"chakra-image",...shared})}));chunk_QINAG4RG_Image.displayName="Image"},"./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>Flex});var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@chakra-ui/system/dist/chunk-ZJJGQIVY.mjs"),_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/system/dist/chunk-ZHQNHOQS.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Flex=(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.R)((function Flex2(props,ref){const{direction,align,justify,wrap,basis,grow,shrink,...rest}=props,styles={display:"flex",flexDirection:direction,alignItems:align,justifyContent:justify,flexWrap:wrap,flexBasis:basis,flexGrow:grow,flexShrink:shrink};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.B.div,{ref,__css:styles,...rest})}));Flex.displayName="Flex"},"./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{az:()=>Box});var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@chakra-ui/system/dist/chunk-ZHQNHOQS.mjs"),_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/system/dist/chunk-ZJJGQIVY.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Box=(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.B)("div");Box.displayName="Box";var Square=(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.R)((function Square2(props,ref){const{size,centerContent=!0,...rest}=props,styles=centerContent?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Box,{ref,boxSize:size,__css:{...styles,flexShrink:0,flexGrow:0},...rest})}));Square.displayName="Square",(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.R)((function Circle2(props,ref){const{size,...rest}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Square,{size,ref,borderRadius:"9999px",...rest})})).displayName="Circle"},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>action});var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./stories/ReOn202408WebChatTemplate.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PC:()=>PC,Smartphone:()=>Smartphone,Tablet:()=>Tablet,WithActiveChat:()=>WithActiveChat,WithLongChatHistory:()=>WithLongChatHistory,WithLongMessages:()=>WithLongMessages,WithQuestion:()=>WithQuestion,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ReOn202408WebChatTemplate_stories});var react=__webpack_require__("./node_modules/react/index.js"),chunk_KRPLQIP4=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs"),chunk_PULVB27S=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs"),chunk_QINAG4RG=__webpack_require__("./node_modules/@chakra-ui/image/dist/chunk-QINAG4RG.mjs"),chunk_2OOHT3W5=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-2OOHT3W5.mjs"),chunk_UVUR7MCU=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs"),chunk_NTCQBYKE=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-NTCQBYKE.mjs"),chunk_6CVSDS6C=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-6CVSDS6C.mjs");const ReOn202408WebChatTemplate=({accountName,chatHistory,currentChatId,messages,question,onSidebarToggle,onStartNewChat,onSelectChat,onAddData,onQuestionChange,onQuestionSubmit})=>{const messagesEndRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{messagesEndRef.current?.scrollIntoView({behavior:"smooth"})}),[messages]),react.createElement(chunk_KRPLQIP4.s,{width:"100%",height:"100vh",margin:"0",padding:"0"},react.createElement(chunk_PULVB27S.az,{width:"250px",height:"100%",bg:"#f8f8f8",display:"flex",flexDirection:"column"},react.createElement(chunk_KRPLQIP4.s,{width:"100%",height:"40px",alignItems:"center",onClick:onSidebarToggle},react.createElement(chunk_QINAG4RG._,{src:"./images/Sidebar-icon.png",width:"28px",height:"28px",ml:"10px",mt:"6px"}),react.createElement(chunk_2OOHT3W5.E,{color:"#757575",ml:"10px",mt:"10px",mb:"3px",fontSize:"14px",fontWeight:"300"},"サイドバーを閉じる")),react.createElement(chunk_KRPLQIP4.s,{width:"100%",mt:"49px",justifyContent:"center",alignItems:"center"},react.createElement(chunk_UVUR7MCU.$,{width:"200px",height:"50px",borderRadius:"42.222px",bg:"#e5e5e5",_hover:{bg:"#d5d5d5"},onClick:onStartNewChat},react.createElement(chunk_2OOHT3W5.E,{fontSize:"16px",fontWeight:"600"},"新しいチャットを開始"))),react.createElement(chunk_NTCQBYKE.T,{spacing:2,align:"stretch",overflow:"auto",flexGrow:1,mt:4,px:2},chatHistory.map((chat=>react.createElement(chunk_UVUR7MCU.$,{key:chat.id,onClick:()=>onSelectChat(chat.id),variant:"ghost",justifyContent:"flex-start",isActive:chat.id===currentChatId,_active:{bg:"#e5e5e5"}},chat.title)))),react.createElement(chunk_KRPLQIP4.s,{bg:"#fc2a45",width:"100%",height:"80px",justifyContent:"center",alignItems:"center",onClick:onAddData},react.createElement(chunk_2OOHT3W5.E,{color:"white",fontSize:"16px",fontWeight:"600",mr:"12px"},"データを追加する"),react.createElement(chunk_QINAG4RG._,{src:"./images/upload-icon.png",width:"32px",height:"32px"}))),react.createElement(chunk_NTCQBYKE.T,{width:"100%",height:"100%",flexGrow:1},react.createElement(chunk_KRPLQIP4.s,{width:"100%",height:"24px",justifyContent:"flex-end",mt:"8px"},react.createElement(chunk_2OOHT3W5.E,{color:"#0f0f0f",fontSize:"16px",fontWeight:"300",mr:"20px"},accountName)),react.createElement(chunk_PULVB27S.az,{flexGrow:1,width:"100%",px:4,overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"#c5c5c5",borderRadius:"24px"}}},0===messages.length?react.createElement(chunk_KRPLQIP4.s,{height:"100%",alignItems:"center",justifyContent:"center"},react.createElement(chunk_2OOHT3W5.E,{color:"#757575",fontSize:"24px",fontWeight:"300",textAlign:"center"},"まだ何も質問されていません")):react.createElement(chunk_NTCQBYKE.T,{spacing:4,align:"stretch"},messages.map((message=>react.createElement(chunk_PULVB27S.az,{key:message.id,bg:message.isUser?"#e5e5e5":"white",p:3,borderRadius:"md",alignSelf:message.isUser?"flex-end":"flex-start",maxWidth:"70%",ml:message.isUser?"auto":"0"},react.createElement(chunk_2OOHT3W5.E,null,message.content)))),react.createElement("div",{ref:messagesEndRef}))),react.createElement(chunk_KRPLQIP4.s,{bg:"#ffe6e6",height:"60px",borderRadius:"30px",mx:"133px",mb:"20px",alignItems:"center",width:"calc(100% - 266px)"},react.createElement(chunk_6CVSDS6C.p,{variant:"unstyled",placeholder:"ここに自由に質問できます",color:"#757575",fontSize:"18px",fontWeight:"300",ml:"30px",flexGrow:1,value:question,onChange:onQuestionChange}),react.createElement(chunk_PULVB27S.az,{bg:"brown",width:"30px",height:"30px",mr:"10px",ml:"29px",onClick:onQuestionSubmit,cursor:"pointer"}))))};ReOn202408WebChatTemplate.__docgenInfo={description:"",methods:[],displayName:"ReOn202408WebChatTemplate",props:{accountName:{required:!0,tsType:{name:"string"},description:""},chatHistory:{required:!0,tsType:{name:"Array",elements:[{name:"ChatHistory"}],raw:"ChatHistory[]"},description:""},currentChatId:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},messages:{required:!0,tsType:{name:"Array",elements:[{name:"ChatMessage"}],raw:"ChatMessage[]"},description:""},question:{required:!0,tsType:{name:"string"},description:""},onSidebarToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onStartNewChat:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSelectChat:{required:!0,tsType:{name:"signature",type:"function",raw:"(chatId: string) => void",signature:{arguments:[{type:{name:"string"},name:"chatId"}],return:{name:"void"}}},description:""},onAddData:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onQuestionChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},onQuestionSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs");const ReOn202408WebChatTemplate_stories={title:"Templates/ReOn202408WebChatTemplate",component:ReOn202408WebChatTemplate,parameters:{layout:"fullscreen"},args:{accountName:"テストユーザー",chatHistory:[{id:"1",title:"過去のチャット1"},{id:"2",title:"過去のチャット2"}],currentChatId:null,messages:[],question:"",onSidebarToggle:(0,dist.XI)("onSidebarToggle"),onStartNewChat:(0,dist.XI)("onStartNewChat"),onSelectChat:(0,dist.XI)("onSelectChat"),onAddData:(0,dist.XI)("onAddData"),onQuestionChange:(0,dist.XI)("onQuestionChange"),onQuestionSubmit:(0,dist.XI)("onQuestionSubmit")}},PC={parameters:{viewport:{defaultViewport:"desktop"},chromatic:{viewports:[1350]}}},Tablet={parameters:{viewport:{defaultViewport:"tablet"},chromatic:{viewports:[900]}}},Smartphone={parameters:{viewport:{defaultViewport:"mobile1"},chromatic:{viewports:[450]}}},WithActiveChat={args:{currentChatId:"1",messages:[{id:"1",content:"こんにちは、AIアシスタントです。",isUser:!1},{id:"2",content:"今日はどのようなご質問がありますか？",isUser:!1},{id:"3",content:"AIについて教えてください。",isUser:!0},{id:"4",content:"AIとは...(説明が続く)",isUser:!1}]}},WithQuestion={args:{question:"これはテスト質問です"}},WithLongChatHistory={args:{chatHistory:Array.from({length:20},((_,i)=>({id:`${i+1}`,title:`過去のチャット${i+1}`})))}},WithLongMessages={args:{currentChatId:"1",messages:Array.from({length:50},((_,i)=>({id:`${i+1}`,content:`これはメッセージ${i+1}です。長いメッセージの例を示すために、このようなやや長めの文章を入れています。`,isUser:i%2==0})))}},__namedExportsOrder=["PC","Tablet","Smartphone","WithActiveChat","WithQuestion","WithLongChatHistory","WithLongMessages"];PC.parameters={...PC.parameters,docs:{...PC.parameters?.docs,source:{originalSource:'{\n  parameters: {\n    viewport: {\n      defaultViewport: "desktop"\n    },\n    chromatic: {\n      viewports: [1350]\n    }\n  }\n}',...PC.parameters?.docs?.source}}},Tablet.parameters={...Tablet.parameters,docs:{...Tablet.parameters?.docs,source:{originalSource:'{\n  parameters: {\n    viewport: {\n      defaultViewport: "tablet"\n    },\n    chromatic: {\n      viewports: [900]\n    }\n  }\n}',...Tablet.parameters?.docs?.source}}},Smartphone.parameters={...Smartphone.parameters,docs:{...Smartphone.parameters?.docs,source:{originalSource:'{\n  parameters: {\n    viewport: {\n      defaultViewport: "mobile1"\n    },\n    chromatic: {\n      viewports: [450]\n    }\n  }\n}',...Smartphone.parameters?.docs?.source}}},WithActiveChat.parameters={...WithActiveChat.parameters,docs:{...WithActiveChat.parameters?.docs,source:{originalSource:'{\n  args: {\n    currentChatId: "1",\n    messages: [{\n      id: "1",\n      content: "こんにちは、AIアシスタントです。",\n      isUser: false\n    }, {\n      id: "2",\n      content: "今日はどのようなご質問がありますか？",\n      isUser: false\n    }, {\n      id: "3",\n      content: "AIについて教えてください。",\n      isUser: true\n    }, {\n      id: "4",\n      content: "AIとは...(説明が続く)",\n      isUser: false\n    }]\n  }\n}',...WithActiveChat.parameters?.docs?.source}}},WithQuestion.parameters={...WithQuestion.parameters,docs:{...WithQuestion.parameters?.docs,source:{originalSource:'{\n  args: {\n    question: "これはテスト質問です"\n  }\n}',...WithQuestion.parameters?.docs?.source}}},WithLongChatHistory.parameters={...WithLongChatHistory.parameters,docs:{...WithLongChatHistory.parameters?.docs,source:{originalSource:"{\n  args: {\n    chatHistory: Array.from({\n      length: 20\n    }, (_, i) => ({\n      id: `${i + 1}`,\n      title: `過去のチャット${i + 1}`\n    }))\n  }\n}",...WithLongChatHistory.parameters?.docs?.source}}},WithLongMessages.parameters={...WithLongMessages.parameters,docs:{...WithLongMessages.parameters?.docs,source:{originalSource:'{\n  args: {\n    currentChatId: "1",\n    messages: Array.from({\n      length: 50\n    }, (_, i) => ({\n      id: `${i + 1}`,\n      content: `これはメッセージ${i + 1}です。長いメッセージの例を示すために、このようなやや長めの文章を入れています。`,\n      isUser: i % 2 === 0\n    }))\n  }\n}',...WithLongMessages.parameters?.docs?.source}}}}}]);